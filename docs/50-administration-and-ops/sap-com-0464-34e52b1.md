<!-- loio34e52b1d3417429bafef10715e3a0a68 -->

# SAP\_COM\_0464

Learn how to establish a connection between the Analyze Custom Code/Custom Code Migration app running in an SAP BTP ABAP environment, with the customer's SAP S/4HANA or SAP S/4HANA Cloud Private Edition ABAP system.



## Prerequisites

-   You have the `ADMINISTRATOR` role.
-   You've created a destination to your SAP S/4HANA or SAP S/4HANA Cloud Private Edition system in the *Cloud Connector* that is connected to your SAP BTP subaccount.




## Purpose

This communication scenario connects the Analyze Custom Code/Custom Code Migration app running in an SAP BTP ABAP environment, with the customer's SAP S/4HANA or SAP S/4HANA Cloud Private Edition ABAP system. Via this RFC connectivity, the Analyze Custom Code/Custom Code Migration app analyzes the custom code in the connected system using the ABAP Test Cockpit \(ATC\). One ABAP tenant can be connected to multiple such ABAP systems, but only one connection can be made to the same ABAP system.



## Procedure

1.  Log on to the *SAP Fiori launchpad* of your ABAP environment.
2.  In the *Communication Management* section, select the *Communication Arrangements* tile.
3.  Choose *New*.
4.  Use the value help to choose scenario `SAP_COM_0464`.
5.  Define and enter an *Arrangement Name*.

    If not yet available or defined, create a new communication system for the communication arrangement to define an endpoint for your checked system.

    1.  For the *Communication System*, choose *New*.
    2.  In the *New Communication System* dialog, enter the *System ID* and *System Name* of the checked system.
    3.  Choose *Create*.
    4.  In the *Technical Data* tab under *General*, enter the virtual host as specified in your *Cloud Connector* as *Host Name*. The field *Port* has already been filled in automatically with the default *443*.
    5.  Turn on the slider for *Cloud Connector*.
    6.  Filling in the field *SCC Location ID* is optional.
    7.  Under *RFC Settings*, fill in the fields *Client*, *Instance Number* and *Target Host* as specified as virtual host in your *Cloud Connector*.
    8.  Under *User for Outbound Communication*, choose *\+* to assign the RFC user you created in the checked system to the communication system.
    9.  Choose *Create* and then *Save* to save the communication system and to be navigated back to the Communication Arrangement creation page.

6.  Under *Additional Properties*, fill out the fields *Object Provider* and *System Group* \(both freely selectable\). This is the name you then select as your *Object Provider to Remote System* for your custom code migration project in the Analyze Custom Code/Custom Code Migration app.
7.  Under *Outbound Services* \> *Retrieve Custom Code*, ensure that the *Service Status* is set to *Active*.
8.  Choose *Save* to save the communication arrangement. A message should now pop up at the bottom of the screen informing you that the activation was successful.

**Results:** You can now select the communication arrangement in the *Object Provider to Remote System* field in the Analyze Custom Code/Custom Code Migration app to establish the connection to your on-premise system.

**Related Information**  


[Integrating ABAP Test Cockpit Checked Systems](integrating-abap-test-cockpit-checked-systems-4c7e92d.md "Learn how to integrate ABAP Test Cockpit (ATC) checked systems and how to enable the Code Explain functionality in the Analyze Custom Code/Custom Code Migration app.")

[Custom Code Analysis](custom-code-analysis-651ef65.md)

